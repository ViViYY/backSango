{"version":3,"sources":["manorNode.js"],"names":["Global","require","cc","Class","extends","Component","properties","idleCraftmanNumber","default","type","Label","materialList","Node","manorComponentPrefab","Prefab","onLoad","string","dy","foodNode","instantiate","position","p","parent","node","woodNode","x","y","ironNode","crystalNode","silverNode","push","refresh","console","log","getComponent","defines","MANOR_TYPE_FOOD","MANOR_TYPE_WOOD","MANOR_TYPE_IRON","MANOR_TYPE_CRYSTAL","MANOR_TYPE_SILVER","onButtonClose","event","customData","destroy","onButtonRecruit"],"mappings":"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","file":"manorNode.js","sourceRoot":"../../../../../../assets/Script/gameScene/manor","sourcesContent":["const Global = require('./../../global');\n\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        idleCraftmanNumber: {\n            default: null,\n            type: cc.Label\n        },\n        materialList: {\n            default: [],\n            type: cc.Node\n        },\n        manorComponentPrefab: {\n            default: null,\n            type: cc.Prefab\n        },\n    },\n\n    onLoad () {\n        this.idleCraftmanNumber.string = '0';\n        let dy = 135;\n        let foodNode = cc.instantiate(this.manorComponentPrefab);\n        foodNode.position = cc.p(0, 300);\n        foodNode.parent = this.node;\n        let woodNode = cc.instantiate(this.manorComponentPrefab);\n        woodNode.position = cc.p(foodNode.position.x, foodNode.position.y - dy);\n        woodNode.parent = this.node;\n        let ironNode = cc.instantiate(this.manorComponentPrefab);\n        ironNode.position = cc.p(foodNode.position.x, woodNode.position.y - dy);\n        ironNode.parent = this.node;\n        let crystalNode = cc.instantiate(this.manorComponentPrefab);\n        crystalNode.position = cc.p(foodNode.position.x, ironNode.position.y - dy);\n        crystalNode.parent = this.node;\n        let silverNode = cc.instantiate(this.manorComponentPrefab);\n        silverNode.position = cc.p(foodNode.position.x, crystalNode.position.y - dy);\n        silverNode.parent = this.node;\n        this.materialList.push(foodNode);\n        this.materialList.push(woodNode);\n        this.materialList.push(ironNode);\n        this.materialList.push(crystalNode);\n        this.materialList.push(silverNode);\n        this.refresh();\n    },\n\n    refresh () {\n        console.log('manor panel refresh');\n        this.materialList[0].getComponent('manorComponent').refresh(defines.MANOR_TYPE_FOOD);\n        this.materialList[1].getComponent('manorComponent').refresh(defines.MANOR_TYPE_WOOD);\n        this.materialList[2].getComponent('manorComponent').refresh(defines.MANOR_TYPE_IRON);\n        this.materialList[3].getComponent('manorComponent').refresh(defines.MANOR_TYPE_CRYSTAL);\n        this.materialList[4].getComponent('manorComponent').refresh(defines.MANOR_TYPE_SILVER);\n    },\n\n    onButtonClose (event, customData) {\n        console.log(' manor node close : ' + customData);\n        this.node.destroy();\n    },\n    onButtonRecruit (event, customData) {\n        console.log(' manor node recruit : ' + customData);\n\n    },\n\n});\n"]}